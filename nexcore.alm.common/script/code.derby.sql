-- "ij.bat" 실행 후 연결 설정
CONNECT 'jdbc:derby://localhost:1527//nexcore-tools/core/code;username=nexcore;password=nexcore;create=true';

-- 최초에 NEXCORE 스키마 생성
CREATE SCHEMA NEXCORE;

-- NEXCORE 스키마 사용
SET SCHEMA NEXCORE;

-- 테이블 삭제 및 생성 START COPY HERE
DROP TABLE COM_CD;
DROP TABLE COM_GROUP_CD;
DROP TABLE COM_MSG;

-- 코드그룹 테이블 --
CREATE TABLE COM_GROUP_CD (
	COM_GROUP_CODE VARCHAR(10) NOT NULL PRIMARY KEY, 
	PARENT_GROUP_CODE VARCHAR(10),
	CODE_GROUP_NAME VARCHAR(100) NOT NULL, 
	CODE_GROUP_CONST VARCHAR(100) NOT NULL, 
	DSCRPT VARCHAR(4000),	
	IS_USED VARCHAR(10)NOT NULL,
	REG_ID VARCHAR(30)NOT NULL,	
	REG_DATE VARCHAR(30) NOT NULL,
	MODIFY_ID VARCHAR(30),
	MODIFY_DATE VARCHAR(30),
	CONSTRAINT COM_GROUP_CD_PARENT_GROUP_CODE_FK FOREIGN KEY (PARENT_GROUP_CODE) REFERENCES COM_GROUP_CD(COM_GROUP_CODE)
);

-- 코드 테이블 --
CREATE TABLE COM_CD (
	COM_CODE VARCHAR(10) NOT NULL,
	COM_GROUP_CODE VARCHAR(10),
	LOCALE VARCHAR(100) NOT NULL,
	TOOL_CODE VARCHAR(10) NOT NULL,
	COM_CODE_VALUE VARCHAR(1024) NOT NULL,
	COM_CODE_CONST VARCHAR(1024) NOT NULL,
	IS_DFLT VARCHAR(10),
	DSCRPT VARCHAR(4000),
	ORDER_NUM VARCHAR(10),
	IS_USED VARCHAR(10) NOT NULL,
	REG_ID VARCHAR(30)NOT NULL,	
	REG_DATE VARCHAR(30) NOT NULL,
	MODIFY_ID VARCHAR(30),
	MODIFY_DATE VARCHAR(30),
	CONSTRAINT COM_CD_COM_GROUP_CODE_FK FOREIGN KEY (COM_GROUP_CODE) REFERENCES COM_GROUP_CD(COM_GROUP_CODE),
	CONSTRAINT PK_COM_CD_COM_CODE_COM_GROUP_CODE_LOCALE PRIMARY KEY(COM_CODE, COM_GROUP_CODE, LOCALE)
);

-- 메시지 테이블 --
CREATE TABLE COM_MSG (
	MSG_ID VARCHAR(40) NOT NULL,
	LOCALE VARCHAR(100) NOT NULL,
	TOOL_CODE VARCHAR(10) NOT NULL,
	MSG_VALUE VARCHAR(2048) NOT NULL,
	MSG_TYPE VARCHAR(10) NOT NULL,
	MSG_CONST VARCHAR(30) NOT NULL,
	DSCRPT VARCHAR(2048),
	REG_ID VARCHAR(30)NOT NULL,	
	REG_DATE VARCHAR(30) NOT NULL,
	MODIFY_ID VARCHAR(30),
	MODIFY_DATE VARCHAR(30),
	CONSTRAINT PK_COM_MSG_MSG_ID_LOCALE PRIMARY KEY (MSG_ID, LOCALE)
);

INSERT INTO COM_GROUP_CD (COM_GROUP_CODE,CODE_GROUP_NAME,CODE_GROUP_CONST,IS_USED,REG_ID,REG_DATE) VALUES ('001','관계유형','RELATION','Y','이준석','20090622');
INSERT INTO COM_GROUP_CD (COM_GROUP_CODE,CODE_GROUP_NAME,CODE_GROUP_CONST,IS_USED,REG_ID,REG_DATE) VALUES ('002','기수성타입','CARDINALITY','Y','이준석','20090622');
INSERT INTO COM_GROUP_CD (COM_GROUP_CODE,CODE_GROUP_NAME,CODE_GROUP_CONST,IS_USED,REG_ID,REG_DATE) VALUES ('003','선택성타입','SELECTION','Y','바트','20090622');
INSERT INTO COM_GROUP_CD (COM_GROUP_CODE,CODE_GROUP_NAME,CODE_GROUP_CONST,IS_USED,REG_ID,REG_DATE) VALUES ('009','애트리뷰트유형','ATTR','Y','지규민','20090622');
INSERT INTO COM_GROUP_CD (COM_GROUP_CODE,PARENT_GROUP_CODE,CODE_GROUP_NAME,CODE_GROUP_CONST,IS_USED,REG_ID,REG_DATE) VALUES ('010','001','필수입력타입','ESSENTIALITY','Y','이준석','20090622');

INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE, IS_DFLT) VALUES ('01','001','ko_KR','DM','~의 부분','PART','Y','이준석','20090622','Y');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('02','001','ko_KR','DM','~의 집단화','GROUP','Y','이준석','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('03','001','ko_KR','DM','~의 분류화','CLASSIFY','Y','지규민','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('04','001','ko_KR','DM','~의 일반화','GERNERAL','Y','지규민','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('05','001','ko_KR','DM','~의 치환','REPLACE','Y','이준석','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE, IS_DFLT) VALUES ('01','001','en_US','DM','Part','PART','Y','이준석','20090622','Y');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('02','001','en_US','DM','Group','GROUP','Y','이준석','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('03','001','en_US','DM','Classification','CLASSIFY','Y','지규민','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('04','001','en_US','DM','Generalization','GERNERAL','Y','지규민','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('05','001','en_US','DM','Replacement','REPLACE','Y','이준석','20090622');

INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE, IS_DFLT) VALUES ('01','009','ko_KR','RM','기본형','BASIC','Y','이준석','20090622','Y');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('02','009','ko_KR','RM','설계형','DSIGN','Y','이준석','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('03','009','ko_KR','RM','유도형','DERIVE','Y','지규민','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('04','009','ko_KR','RM','설계형/유도형','DESIGN&DERIVE','Y','지규민','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE, IS_DFLT) VALUES ('01','009','en_US','RM','basic','BASIC','Y','이준석','20090622','Y');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('02','009','en_US','RM','designed','DSIGN','Y','이준석','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('03','009','en_US','RM','derived','DERIVE','Y','지규민','20090622');
INSERT INTO COM_CD (COM_CODE, COM_GROUP_CODE, LOCALE, TOOL_CODE, COM_CODE_VALUE,COM_CODE_CONST, IS_USED,REG_ID,REG_DATE) VALUES ('04','009','en_US','RM','designed&derived','DESIGN&DERIVE','Y','지규민','20090622');

INSERT INTO COM_MSG (MSG_ID, LOCALE, TOOL_CODE, MSG_VALUE, MSG_TYPE, MSG_CONST, REG_ID, REG_DATE) VALUES ('DM.TRANSMIT_FAIL','ko_KR','DM','전송에 실패하였습니다.','I','TRANSMIT_FAIL','이준석','20090624');
INSERT INTO COM_MSG (MSG_ID, LOCALE, TOOL_CODE, MSG_VALUE, MSG_TYPE, MSG_CONST, REG_ID, REG_DATE) VALUES ('RM.TRANSMIT_SUCCESS','ko_KR','RM','전송에 성공하였습니다.','Q','TRANSMIT_SUCCESS','바트','20090624');
INSERT INTO COM_MSG (MSG_ID, LOCALE, TOOL_CODE, MSG_VALUE, MSG_TYPE, MSG_CONST, REG_ID, REG_DATE) VALUES ('DM.UPLOAD_FAIL','ko_KR','DM','업로드에 실패하였습니다..','I','UPLOAD_FAIL','지규민','20090624');